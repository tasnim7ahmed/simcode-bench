{
    "version": "2.0.0",
    "inputs": [
        {
            "id": "codeDir",
            "type": "promptString",
            "description": "Absolute path (Linux style) of directory with .cc files",
            "default": "/mnt/e/LLM/simcode-bench/Examples"
        },
        {
            "id": "outDir",
            "type": "promptString",
            "description": "Directory where .txt logs will be written",
            "default": "/mnt/e/LLM/simcode-bench/output"
        }
    ],
    "tasks": [
        {
            "label": "Run-ns3-BATCH",
            "type": "shell",
            "command": "bash",
            "args": [
                "-lc",
          "NS3ROOT=$HOME/ns-allinone-3.41/ns-3.41 && \
  CODE_DIR=\"${input:codeDir}\" && \
  OUT_DIR=\"${input:outDir}\" && \
  mkdir -p \"$OUT_DIR\" && \
  echo \"üîó  Linking .cc files from $CODE_DIR to $NS3ROOT/scratch\" && \
  for SRC in \"$CODE_DIR\"/*.cc; do \
    [ -e \"$SRC\" ] || { echo \"No .cc files in $CODE_DIR\"; exit 1; }; \
    ln -sf \"$SRC\" \"$NS3ROOT/scratch/$(basename \"$SRC\")\"; \
  done && \
  cd \"$NS3ROOT\" && \
  echo \"üõ†Ô∏è  Building once with ./ns3 build\" && \
  ./ns3 build && \
  echo \"üöÄ  Running simulations‚Ä¶\" && \
  for SRC in \"$CODE_DIR\"/*.cc; do \
    NAME=$(basename \"$SRC\" .cc); \
    echo \"‚Üí  $NAME\"; \
    ./ns3 run scratch/$NAME |& tee \"$OUT_DIR/$NAME.txt\"; \
  done && \
  echo \"‚úÖ  Finished. Logs saved in $OUT_DIR\""
            ],
            "presentation": {
                "reveal": "always",
                "panel": "dedicated"
            },
            "problemMatcher": []
        }
    ]
}