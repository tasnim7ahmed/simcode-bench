Write a complete C++ program using the ns-3 network simulator that creates a default topology consisting of nWifis WiFi networks (default 2), each with one AP node and nStas STA nodes (default 2), where each AP connects to its STA nodes wirelessly and also connects to a shared CSMA backbone; bridge each AP's WiFi and CSMA devices so that all nodes share a single IP subnet (e.g., 192.168.0.0/24). Use MobilityHelper to set a constant position for APs and a RandomWalk2dMobilityModel for STAs, with an option to write mobility traces. Install the Internet stack and assign IPs to all nodes. Include command-line options for nWifis, nStas, SendIp (to switch between IPv4 UDP or raw packet socket traffic), and writeMobility. Configure an OnOffApplication to send traffic from one STA to another using a data rate of 500kbps between 0.5 and 3.0 seconds. Enable PCAP tracing on AP devices and stop the simulation after 5 seconds. Use appropriate ns-3 helpers (e.g., WifiHelper, BridgeHelper, InternetStackHelper, CsmaHelper) and organize nodes and devices using NodeContainer, NetDeviceContainer, and Ipv4InterfaceContainer structures, along with std::vector for handling multiple WiFi setups.
