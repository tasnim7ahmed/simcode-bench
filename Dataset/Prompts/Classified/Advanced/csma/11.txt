Generate a C++ program using the NS-3 simulation framework to simulate a network topology with two nodes (n0, n1) connected via a CSMA LAN. The program should simulate a UDP flow from node n0 to node n1, where the client on n0 sends 1024-byte packets at 50 ms intervals, for a maximum of 320 packets or until the simulation ends. The user should be able to select either IPv4 or IPv6 addressing via command-line arguments, and there should be an option to enable or disable logging statements. If logging is enabled, log detailed information for the UDP client and server. The CSMA channel should be configured with a data rate of 5 Mbps, a delay of 2 ms, and an MTU of 1400 bytes. The server should run on port 4000, and the client should start sending packets at 2 seconds, with the simulation running for a total of 10 seconds. Ensure the program uses the necessary NS-3 modules (applications, core, csma, and internet) and outputs appropriate log messages during the simulation.
