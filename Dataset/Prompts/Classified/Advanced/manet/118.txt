Write a C++ program using the ns-3 simulation library to create an ad hoc wireless network with four nodes. Configure the nodes to use IEEE 802.11 in ad hoc mode and set up a grid mobility model that positions them initially in a grid layout, allowing for random movement within a specified rectangular area. Install the Internet stack and assign IPv4 addresses from the subnet 192.9.39.0/24. Establish UDP echo server applications on each node, enabling them to communicate in a ring topology where each node sends echo requests to the next. Set the maximum number of packets for each client to 20, with an interval of half a second. Integrate a flow monitor to capture statistics such as packet delivery ratios, end-to-end delays, and throughput for all communications. Generate an animation file to visualize the network activity during the simulation. Finally, output the collected flow statistics and performance metrics after running the simulation.
