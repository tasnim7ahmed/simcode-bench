Generate a network simulation code in ns-3 that models two Local Area Networks (LANs) connected by a Wide Area Network (WAN), illustrating how global-router-interface source code supports bridging multiple Layer 2 (L2) switches between Layer 3 (L3) routers. Configure one LAN at the top with subnet 192.168.1/24 and another at the bottom with subnet 192.168.2/24, each connected through a router to a 5Mbit/s, 50ms WAN link (76.1.1.*). On each LAN, implement UDP echo clients and servers for testing connectivity. The "top" LAN uses four switches (ts1, ts2, ts3, ts4) and two UDP endpoints (t2 and t3), while the "bottom" LAN employs five switches (bs1 to bs5) and two endpoints (b2 and b3). Ensure that t2 communicates with b2 across multiple switches, and t3 with b3 through a single switch, both LANs interconnected via routers (tr and br). Allow for adjustable CSMA link speeds (100Mbit or 10Mbit) using command-line options, and include PCAP trace points at key network locations.

