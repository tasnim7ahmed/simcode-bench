Generate a C++ program that simulates an ad-hoc WiFi network using NS-3. The program should include the necessary NS-3 libraries like command-line parsing, logging, gnuplot generation, mobility models, packet sockets, and WiFi helpers. Define a class `Experiment` that handles the creation and running of the experiment, with methods to set and get the position of nodes, move them, receive packets, and set up packet reception sockets. In the `Run` method, configure two nodes with WiFi devices, assign constant mobility, and configure an `OnOffHelper` to send packets. For each experiment, the nodes should move and log throughput data in a 2D dataset to generate gnuplot graphs. The main function should simulate the experiment for different WiFi rates and managers, generating output graphs for each experiment run.
