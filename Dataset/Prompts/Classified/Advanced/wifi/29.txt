Generate a code example in C++ using the NS-3 simulator that demonstrates the implementation of a WiFi multirate experiment with 100 nodes, multiple simultaneous flows, ad hoc routing, and node mobility. The code should include class declarations and key methods such as running the experiment, setting up applications, monitoring packet reception, calculating throughput, and handling node mobility. Ensure that logging, command-line arguments, and results collection via Gnuplot are also implemented, along with specific instructions for building, running, and debugging the simulation.
