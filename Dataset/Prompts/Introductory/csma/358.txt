Generate an NS-3 C++ simulation with a CSMA network of four nodes. The last node is a UDP echo server, and the others are clients sending packets to it. Use a 100Mbps data rate, assign IPs in the 10.1.1.0/24 range, and ensure proper network stack installation. Clients should send 512-byte packets at 1s intervals. The simulation should start at 1s, run until 10s, and terminate correctly.