Generate a C++ program using the ns-3 simulation library to model an ad hoc network with 10 nodes utilizing AODV routing protocol. Configure these nodes in a grid layout and enable random mobility within a defined area. Implement a UDP echo server on each node, allowing them to send echo requests to the next node in a circular manner, with clients sending requests every 4 seconds. Set the simulation parameters to enable PCAP tracing and optional printing of routing tables at specified intervals. Integrate a flow monitor to capture network statistics, including packet delivery ratios, end-to-end delays, and throughput, and output these metrics after the simulation completes. Additionally, create an animation file to visualize the simulation's activity.
