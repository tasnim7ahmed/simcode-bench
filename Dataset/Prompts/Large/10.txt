Generate a C++ program using the NS-3 simulation framework to simulate a network topology where four nodes (n0, n1, n2, n3) are connected to a LAN using CSMA. The program should simulate UDP flows from node n0 to node n1 and back, with a UDP echo server on n1 (port 9) and a UDP echo client on n0. The client sends one 1024-byte packet at 1-second intervals, starting at 2 seconds and stopping at 10 seconds. Include both IPv4 and IPv6 options, allowing the user to choose via command-line arguments. Configure the CSMA channel with a 5 Mbps data rate, 2 ms delay, and 1400-byte MTU. Enable tracing of queue events and packet receptions, saving the results in a file called "udp-echo.tr", and also enable pcap tracing. Allow for additional logging for specific sections. Use the required NS-3 modules (applications, core, csma, and internet), and ensure the program runs the simulation with appropriate log outputs.
