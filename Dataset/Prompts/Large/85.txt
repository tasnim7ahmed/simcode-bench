Generate a code in C++ using the ns-3 simulation framework to model a vehicular environment, simulating the channel conditions and pathloss based on 3GPP TR 37.885 and TR 38.901 standards. The code should include the following elements: configure nodes to simulate vehicles, setup mobility models for urban and highway scenarios, assign antennas using uniform planar arrays, and calculate beamforming using DFT methods. The simulation should log average SNR and pathloss values over time and output these to a file, which can be used to generate figures representing the scenario.
